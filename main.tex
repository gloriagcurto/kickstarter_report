%\documentclass[a4paper]{article}

\documentclass{article}
\usepackage[a4paper]{geometry}

\usepackage[utf8]{inputenc}
\usepackage{import}
\usepackage{url}
\usepackage{graphicx}
\usepackage{float} 
\usepackage{xcolor}
\usepackage{subfigure}
\usepackage{caption}
\usepackage{listings} % JSON listing
\usepackage{eurosym}
\usepackage{parskip} % Do not indent the beginning of each paragraph
\usepackage{comment}

%\renewcommand{\sectionname}{Lecture} % Redefine "chapter" to a different text

\newcommand{\ToDo}[1]{\textcolor{magenta}{\textbf{[ToDo]} \textbf{#1}}}
\newcommand{\gloria}[1]{\textcolor{blue}{[Gloria] {#1}}}


\title{Classification of Kickstarter's successful or failed projects based on data crawled by a scraper robot (Web Robots)}
\author{Gloria GONZ√ÅLEZ CURTO}
\date{\today}

\begin{document}

\maketitle

\tableofcontents


\section{Summary}
\label{ref:sum}
The aim of this project is to classify and ultimately predict the success or failure of a kickstarter fund rising campaign based on data monthly crawled from the kickstarter.com web site by a scraper robot (webrobots.io).

\section{Problem definition and background}
{Kickstarter is an American corporation with a public benefit status launched in 2009 in the United States. The company initiated its international expansion in 2012. The kickstarter platform is open to backers from anywhere in the world and to creators from many countries \ref{subsec:EDA}.

Kickstarter maintains a global crowdfunding platform focused on creativity. Project creators choose a deadline and a minimum funding goal. If the goal is not met by the deadline, no funds are collected and the project is considered failed. Project backers usually receive rewards in exchange for their pledges.
Once a project collects enough pledges to bypass the goal before a deadline stablished by the creator, its state changes to successful. Only at that moment pledges are collected from backers. From that point onward, there is no guarantee for project delivery. Kickstarter advises backers to use their own judgment on supporting a project. They also warn project leaders that they could be liable for legal damages from backers for failure to deliver on promises.

From a backer point of view, it would be interesting to have an analytic model to help with the decision of whether to pledge for a project or not.

\section{Data description and pre-processing}
\label{sec:data_desc}

Raw data were collected from \url{https://webrobots.io/kickstarter-datasets/} in CSV format.  The downloaded data correspond to a crawl executed on February 13 2020. Raw data are composed by 57 CSV files with 3500 to 4000 rows each. The raw original variables are:
\begin{itemize}

    \item \textbf{backers\_count}: integer representing how many people supported the project (backers).
    \item \textbf{blurb}: textual description of the project (around 150-200 characters).
    \item \textbf{category}: JSON-encoded description on the kickstarter's fixed categories: id, name, slug, position, parent\_id, parent\_name, color, urls.

    \item \textbf{converted\_pledged\_amount}: pleged amount converted to USD.
    \item \textbf{country}: country initials (i.e: FR for France):
    \item \textbf{country\_displayable\_name}: country name.
    \item \textbf{created\_at}: date on Unix time format.
    \item \textbf{creator}: JSON-encoded description on project's creator. id, name, is\_registered, chosen\_currency, is\_superbacker, avatar, small, medium, url\_web, url\_api. 
    \item \textbf{currency}: currency acronym.
    \item \textbf{currency\_symbol}.
    \item \textbf{currency\_trailing\_code}: boolean variable.
    \item \textbf{current\_currency}: USD.
    \item \textbf{deadline}: crowdfunding deadline in Unix time established by the project's creator.
    \item \textbf{disable\_communication}: boolean variable.
    \item \textbf{friends}.
    \item \textbf{fx\_rate}: conversion rate.
    \item \textbf{goal}: fund rising goal in creator's fixed currency.
    \item \textbf{id}: project identifier.
    \item \textbf{is\_backing}.
    \item \textbf{is\_starrable}.
    \item \textbf{is\_starred}.
    \item \textbf{launched\_at}: launch date on Unix time format.
    \item \textbf{location}: JSON-encoded description of the project's creator location: id, name, slug, short\_name, displayable\_name, localized\_name, country, state, type, is\_root, expanded\_country, url\_web, url\_location, url\_api\_nearby\_projects.
    \item \textbf{name}: project's name.
    \item \textbf{permissions}.
    \item \textbf{photo}: JSON-encoded description on project's photos: key, full, ed, med, little, small, thumb, 1024x576, 1536x864.
    \item \textbf{pledged}: pledged amount in original country currency.
    \item \textbf{profile}: JSON-encoded description on project's profile: id, project\_id, state, state\_changed\_at, name, blurb, background\_color, text\_color, link\_background\_color, link\_text\_color, link\_text, link\_url, show\_feature\_image, background\_image\_opacity, should\_show\_feature\_image\_section, feature\_image\_attributes, image\_urls. 
    \item \textbf{slug}: small textual description with - as spacers.
    \item \textbf{source\_url}: url pointing to project's category site on kickstarter.
    \item \textbf{spotlight}: boolean representing if the project was featured on kickstarter web site.
    \item \textbf{staff\_pick}: boolean representing if the project was picked by kickstarter staff.
    \item \textbf{state}: project's state initialy composed by 5 categories (successful, failed, canceled, suspended and live.
    \item \textbf{state\_changed\_at}: date in Unix time format.
    \item \textbf{static\_usd\_rate}: static rate for currency conversion into USD.
    \item \textbf{urls}: JSON-encoded description containing urls: project, rewards.
    \item \textbf{usd\_pledged}.
    \item \textbf{usd\_type}: domestic.
\end{itemize} 

\subsection{Data pre-processing}
\label{subsec:data_prepro}
The following steps were followed to obtain a clean dataset for model training or EDA from raw data.
\begin{itemize}
    \item \textbf{Join CSV files}.
Raw data contain ambigous JSON-encoded fields that induce errors while parsing. To avoid those errors, ambigous JSON-encoded containing rows were filtered out while joining data into an unique file (\emph{pre\_join.py}).

    \item \textbf{Deserialize JSON-encoded columns}.
Columns and rows with missing information were dropped ("friends", "is\_backing", "is\_starred", "permissions") from raw data before JSON deserialization.
JSON-encoded columns (\emph{'category', 'creator', 'location', 'photo', 'profile', 'urls'}) were isolated from the rest of raw data and deserialized using a custom made function (\emph{deserialize\_in\_batch}) by means of the json\_normalize method from the pandas package and loads from the json package. The implementation can be accesed at \emph{pre\_decode\_JSON.py}).

    \item \textbf{Selection and pre-processing of deserialized variables}.
    The implementation of the following steps can be accesed at \emph{pre\_deserialized\_to\_one\_hot\_encoding.py}.
    \begin{itemize}
 
        \item Drop category\_slug because it contains partial redundant information with category\_name and category\_parent\_name.
        \item Fill category\_parent\_name missing values with their corresponding category\_name value.
        \item Exploration of location related variables: location\_localized\_name, location\_country, and location\_expanded\_country
	\begin{itemize}
            \item location\_localized\_name contains no missing values and 12977 unique values. Such a number of levels for a categorical variable might not be informative. Drop location\_localized\_name.
            \item location\_country and location\_expanded\_country are redundant. Drop location\_country because is less human readable.
	\end{itemize}
	\item Profile related variables. Codification of profile related variables into a binary code reflecting the involvement of the project creator in the generation of a profile.
	\begin{itemize}
            \item Re-codification of categorical binary variables:
	    profile\_state: "inactive"=0, "active"=1
            profile\_show\_feature\_image: False=0, True=1
            profile\_should\_show\_feature\_image\_section: False=0, True=1

            \item The rest of the profile related columns are going to be coded in a binary choice variable (missing value = 0= , variable contains a project creator provided value =1). The following columns were processed: 'profile\_name', 'profile\_blurb', 'profile\_background\_color', 'profile\_text\_color', 'profile\_link\_background\_color', 'profile\_link\_text\_color', 'profile\_link\_text', 'profile\_link\_url'.
        \end{itemize}
	\item One hot encoding of categorical variables while keeping the original columns for EDA, see section \ref{subsec:EDA}.
        The variables 'category\_name', 'category\_parent\_name', 'location\_expanded\_country' were codified using pd.get\_dummies and the argument drop\_first was set to True.
   \end{itemize}
   \item \textbf{Change date format and compute date derived variables}.
    The implementation can be accesed at \emph{pre\_date\_format\_and\_derived\_variables.py}.
    First, date and time coding variables ('created\_at', 'deadline', 'launched\_at', 'state\_changed\_at') in the raw data are in Unix time format and need to be transformed into datetime. The following variables where computed from the original ones: weekday columns for each date variable, month columns for each date variable, year columns for each date variable.
    initial\_found\_rising\_duration was computed as the difference in days between 'deadline' and 'launched\_at'.
    found\_rising\_duration was computed as the difference in days between 'state\_changed\_at' and 'launched\_at'.
    project set up duration was computed as the difference in days between 'launched\_at' and 'created\_at'.
    
    \item \textbf{Currency derived variables pre-processing}.
    The implementation can be accesed at \emph{pre\_currency\_and\_other\_variables.py}.
    
    \item \textbf{Currency derived variables pre-processing}.
    The implementation can be accesed at \emph{pre\_currency\_and\_other\_variables.py}.
    
    \item \textbf{Binary encoding}.
    The implementation can be accesed at \emph{pre\_currency\_and\_other\_variables.py}.
    
    \item \textbf{One hot encoding}.
    The implementation can be accesed at \emph{pre\_currency\_and\_other\_variables.py}.
    \item \textbf{Target variable (state) pre-processing}.
    The implementation can be accesed at \emph{pre\_currency\_and\_other\_variables.py}.
    
    
   \item \textbf{Join the JSON decoded variables to the rest of the data}.
   The implementation can be accesed at \emph{pre\_join\_and\_drop\_live\_state.py}.
    \item \textbf{Drop rows corresponding to projects on a "live" state}.
    The implementation can be accesed at \emph{pre\_join\_and\_drop\_live\_state.py}.
    \item \textbf{Drop rows with text in other languages than English}.
    The implementation can be accesed at \emph{pre\_words.py}.
    \item \textbf{Text-mining pre-processing}.
    The implementation can be accesed at \emph{pre\_text\_mining.py}.
    \item \textbf{Clean up of the modeling data}.
    The implementation can be accesed at \emph{pre\_data\_prep\_temporal\_and\_classification.py}.
    \item \textbf{Clean up for the exploratory data visualization}.
    The implementation can be accesed at \emph{pre\_data\_prep\_EDA.py}.
    
    
\end{itemize}

\subsection{Exploratory data analysis}
\label{subsec:EDA}
\section{Data modeling}
\label{sec:data_model}
\section{Model interpretation}
\label{sec:interp}
\section{Conclusions}
\label{sec:conclu}

\begin{comment}
\begin{figure}[!ht]
\centering
\includegraphics[width=0.8\linewidth]{RRPR_2016/images/architecture/architecture.pdf}
\caption{IPOL as a modular system.} 
\label{fig:architecture}
\end{figure}
\end{comment}

\begin{comment}
\begin{itemize}
    \item Demos
    \item Applications
\end{itemize}
\end{comment}

\bibliographystyle{unsrt} % Sorted references: [1], [2], ..
\bibliography{bibliography}

\end{document}
